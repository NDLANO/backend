{"openapi":"3.1.0","info":{"title":"frontpage-api","version":"1.0","description":"Service for fetching frontpage data","termsOfService":"https://om.ndla.no/tos","contact":{"name":"NDLA","email":"hjelp+api@ndla.no","url":"https://ndla.no"},"license":{"name":"GPL v3.0","url":"https://www.gnu.org/licenses/gpl-3.0.en.html"}},"paths":{"/frontpage-api/v1/subjectpage":{"get":{"tags":["subjectpage"],"summary":"Fetch all subjectpages","operationId":"getFrontpage-apiV1Subjectpage","parameters":[{"name":"page","in":"query","description":"The page number of the search hits to display.","required":false,"schema":{"default":1,"type":"integer","format":"int32","minimum":1}},{"name":"page-size","in":"query","description":"The number of search hits to display for each page.","required":false,"schema":{"default":10,"type":"integer","format":"int32","minimum":0}},{"name":"language","in":"query","description":"The ISO 639-1 language code describing language.","required":false,"schema":{"default":"nb","type":"string"}},{"name":"fallback","in":"query","description":"Fallback to existing language if language is specified.","required":false,"schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectPageDTO"}}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}}},"post":{"tags":["subjectpage"],"summary":"Create new subject page","operationId":"postFrontpage-apiV1Subjectpage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewSubjectPageDTO"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}},"security":[{},{"oauth2":["frontpage:write"]}]}},"/frontpage-api/v1/subjectpage/ids":{"get":{"tags":["subjectpage"],"summary":"Fetch subject pages that matches ids parameter","operationId":"getFrontpage-apiV1SubjectpageIds","parameters":[{"name":"ids","in":"query","description":"Return only subject pages that have one of the provided ids. To provide multiple ids, separate by comma (,).","required":false,"explode":false,"schema":{"type":"array","items":{"type":"integer","format":"int64"}}},{"name":"language","in":"query","description":"The ISO 639-1 language code describing language.","required":false,"schema":{"default":"nb","type":"string"}},{"name":"fallback","in":"query","description":"Fallback to existing language if language is specified.","required":false,"schema":{"default":false,"type":"boolean"}},{"name":"page-size","in":"query","description":"The number of search hits to display for each page.","required":false,"schema":{"default":10,"type":"integer","format":"int32","minimum":0}},{"name":"page","in":"query","description":"The page number of the search hits to display.","required":false,"schema":{"default":1,"type":"integer","format":"int32","minimum":1}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SubjectPageDTO"}}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}}}},"/frontpage-api/v1/subjectpage/{subjectpage-id}":{"get":{"tags":["subjectpage"],"summary":"Get data to display on a subject page","operationId":"getFrontpage-apiV1SubjectpageSubjectpage-id","parameters":[{"name":"subjectpage-id","in":"path","description":"The subjectpage id","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"language","in":"query","description":"The ISO 639-1 language code describing language.","required":false,"schema":{"default":"nb","type":"string"}},{"name":"fallback","in":"query","description":"Fallback to existing language if language is specified.","required":false,"schema":{"default":false,"type":"boolean"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}}},"patch":{"tags":["subjectpage"],"summary":"Update subject page","operationId":"patchFrontpage-apiV1SubjectpageSubjectpage-id","parameters":[{"name":"subjectpage-id","in":"path","description":"The subjectpage id","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"language","in":"query","description":"The ISO 639-1 language code describing language.","required":false,"schema":{"default":"nb","type":"string"}},{"name":"fallback","in":"query","description":"Fallback to existing language if language is specified.","required":false,"schema":{"default":false,"type":"boolean"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatedSubjectPageDTO"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}},"security":[{},{"oauth2":["frontpage:write"]}]}},"/frontpage-api/v1/subjectpage/{subjectpage-id}/language/{language}":{"delete":{"tags":["subjectpage"],"summary":"Delete language from subject page","description":"Delete language from subject page","operationId":"deleteFrontpage-apiV1SubjectpageSubjectpage-idLanguageLanguage","parameters":[{"name":"subjectpage-id","in":"path","description":"The subjectpage id","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"language","in":"path","description":"The ISO 639-1 language code describing language.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubjectPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"403":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}},"security":[{},{"oauth2":["frontpage:write"]}]}},"/frontpage-api/v1/frontpage":{"get":{"tags":["frontpage"],"summary":"Get data to display on the front page","operationId":"getFrontpage-apiV1Frontpage","responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FrontPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}}},"post":{"tags":["frontpage"],"summary":"Create front page","operationId":"postFrontpage-apiV1Frontpage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FrontPageDTO"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FrontPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"403":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}},"security":[{},{"oauth2":["frontpage:admin"]}]}},"/frontpage-api/v1/filmfrontpage":{"get":{"tags":["filmfrontpage"],"summary":"Get data to display on the film front page","operationId":"getFrontpage-apiV1Filmfrontpage","parameters":[{"name":"language","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilmFrontPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}}},"post":{"tags":["filmfrontpage"],"summary":"Update film front page","operationId":"postFrontpage-apiV1Filmfrontpage","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewOrUpdatedFilmFrontPageDTO"}}},"required":true},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilmFrontPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"403":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"422":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}},"security":[{},{"oauth2":["frontpage:write"]}]}},"/frontpage-api/v1/filmfrontpage/language/{language}":{"delete":{"tags":["filmfrontpage"],"summary":"Delete language from film front page","description":"Delete language from film front page","operationId":"deleteFrontpage-apiV1FilmfrontpageLanguageLanguage","parameters":[{"name":"language","in":"path","description":"The ISO 639-1 language code describing language.","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FilmFrontPageDTO"}}}},"400":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"401":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"403":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"404":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AllErrors"}}}},"500":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorBody"}}}}},"security":[{},{"oauth2":["frontpage:write"]}]}}},"components":{"schemas":{"AboutFilmSubjectDTO":{"title":"AboutFilmSubjectDTO","type":"object","required":["title","description","visualElement","language"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"visualElement":{"$ref":"#/components/schemas/VisualElementDTO"},"language":{"type":"string"}}},"AboutSubjectDTO":{"title":"AboutSubjectDTO","type":"object","required":["title","description","visualElement"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"visualElement":{"$ref":"#/components/schemas/VisualElementDTO"}}},"AllErrors":{"title":"AllErrors","oneOf":[{"$ref":"#/components/schemas/ErrorBody"},{"$ref":"#/components/schemas/NotFoundWithSupportedLanguages"},{"$ref":"#/components/schemas/ValidationErrorBody"}]},"BannerImageDTO":{"title":"BannerImageDTO","type":"object","required":["desktopUrl","desktopId"],"properties":{"mobileUrl":{"type":"string"},"mobileId":{"type":"integer","format":"int64"},"desktopUrl":{"type":"string"},"desktopId":{"type":"integer","format":"int64"}}},"ErrorBody":{"title":"ErrorBody","description":"Information about an error","type":"object","required":["code","description","occurredAt","statusCode"],"properties":{"code":{"description":"Code stating the type of error","type":"string"},"description":{"description":"Description of the error","type":"string"},"occurredAt":{"description":"When the error occurred","type":"string"},"statusCode":{"description":"Numeric http status code","type":"integer","format":"int32"}}},"FilmFrontPageDTO":{"title":"FilmFrontPageDTO","type":"object","required":["name","about","movieThemes","slideShow","supportedLanguages"],"properties":{"name":{"type":"string"},"about":{"type":"array","items":{"$ref":"#/components/schemas/AboutFilmSubjectDTO"}},"movieThemes":{"type":"array","items":{"$ref":"#/components/schemas/MovieThemeDTO"}},"slideShow":{"type":"array","items":{"type":"string"}},"article":{"type":"string"},"supportedLanguages":{"type":"array","items":{"type":"string"}}}},"FrontPageDTO":{"title":"FrontPageDTO","description":"Object containing frontpage data","type":"object","required":["articleId","menu"],"properties":{"articleId":{"description":"Id of the frontpage","type":"integer","format":"int64"},"menu":{"description":"List of Menu objects","type":"array","items":{"$ref":"#/components/schemas/MenuDTO"}}}},"MenuDTO":{"title":"MenuDTO","description":"The Menu object","type":"object","required":["articleId","menu"],"properties":{"articleId":{"description":"Id of the article","type":"integer","format":"int64"},"menu":{"description":"List of submenu objects","type":"array","items":{"$ref":"#/components/schemas/MenuDataDTO"}},"hideLevel":{"description":"Hide this level in menu","type":"boolean"}}},"MenuDataDTO":{"title":"MenuDataDTO","oneOf":[{"$ref":"#/components/schemas/MenuDTO"}]},"MovieThemeDTO":{"title":"MovieThemeDTO","type":"object","required":["name","movies"],"properties":{"name":{"type":"array","items":{"$ref":"#/components/schemas/MovieThemeNameDTO"}},"movies":{"type":"array","items":{"type":"string"}}}},"MovieThemeNameDTO":{"title":"MovieThemeNameDTO","type":"object","required":["name","language"],"properties":{"name":{"type":"string"},"language":{"type":"string"}}},"NewOrUpdateBannerImageDTO":{"title":"NewOrUpdateBannerImageDTO","type":"object","required":["desktopImageId"],"properties":{"mobileImageId":{"type":"integer","format":"int64"},"desktopImageId":{"type":"integer","format":"int64"}}},"NewOrUpdatedAboutSubjectDTO":{"title":"NewOrUpdatedAboutSubjectDTO","type":"object","required":["title","description","language","visualElement"],"properties":{"title":{"type":"string"},"description":{"type":"string"},"language":{"type":"string"},"visualElement":{"$ref":"#/components/schemas/NewOrUpdatedVisualElementDTO"}}},"NewOrUpdatedFilmFrontPageDTO":{"title":"NewOrUpdatedFilmFrontPageDTO","type":"object","required":["name","about","movieThemes","slideShow"],"properties":{"name":{"type":"string"},"about":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedAboutSubjectDTO"}},"movieThemes":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedMovieThemeDTO"}},"slideShow":{"type":"array","items":{"type":"string"}},"article":{"type":"string"}}},"NewOrUpdatedMetaDescriptionDTO":{"title":"NewOrUpdatedMetaDescriptionDTO","type":"object","required":["metaDescription","language"],"properties":{"metaDescription":{"type":"string"},"language":{"type":"string"}}},"NewOrUpdatedMovieNameDTO":{"title":"NewOrUpdatedMovieNameDTO","type":"object","required":["name","language"],"properties":{"name":{"type":"string"},"language":{"type":"string"}}},"NewOrUpdatedMovieThemeDTO":{"title":"NewOrUpdatedMovieThemeDTO","type":"object","required":["name","movies"],"properties":{"name":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedMovieNameDTO"}},"movies":{"type":"array","items":{"type":"string"}}}},"NewOrUpdatedVisualElementDTO":{"title":"NewOrUpdatedVisualElementDTO","type":"object","required":["type","id"],"properties":{"type":{"type":"string"},"id":{"type":"string"},"alt":{"type":"string"}}},"NewSubjectPageDTO":{"title":"NewSubjectPageDTO","type":"object","required":["name","banner","about","metaDescription"],"properties":{"name":{"type":"string"},"externalId":{"type":"string"},"banner":{"$ref":"#/components/schemas/NewOrUpdateBannerImageDTO"},"about":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedAboutSubjectDTO"}},"metaDescription":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedMetaDescriptionDTO"}},"editorsChoices":{"type":"array","items":{"type":"string"}},"connectedTo":{"type":"array","items":{"type":"string"}},"buildsOn":{"type":"array","items":{"type":"string"}},"leadsTo":{"type":"array","items":{"type":"string"}}}},"NotFoundWithSupportedLanguages":{"title":"NotFoundWithSupportedLanguages","description":"Information about an error","type":"object","required":["code","description","occurredAt","statusCode"],"properties":{"code":{"description":"Code stating the type of error","type":"string"},"description":{"description":"Description of the error","type":"string"},"occurredAt":{"description":"When the error occurred","type":"string"},"supportedLanguages":{"description":"List of supported languages","type":"array","items":{"type":"string"}},"statusCode":{"description":"Numeric http status code","type":"integer","format":"int32"}}},"SubjectPageDTO":{"title":"SubjectPageDTO","type":"object","required":["id","name","banner","editorsChoices","supportedLanguages","connectedTo","buildsOn","leadsTo"],"properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"banner":{"$ref":"#/components/schemas/BannerImageDTO"},"about":{"$ref":"#/components/schemas/AboutSubjectDTO"},"metaDescription":{"type":"string"},"editorsChoices":{"type":"array","items":{"type":"string"}},"supportedLanguages":{"type":"array","items":{"type":"string"}},"connectedTo":{"type":"array","items":{"type":"string"}},"buildsOn":{"type":"array","items":{"type":"string"}},"leadsTo":{"type":"array","items":{"type":"string"}}}},"UpdatedSubjectPageDTO":{"title":"UpdatedSubjectPageDTO","type":"object","properties":{"name":{"type":"string"},"externalId":{"type":"string"},"banner":{"$ref":"#/components/schemas/NewOrUpdateBannerImageDTO"},"about":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedAboutSubjectDTO"}},"metaDescription":{"type":"array","items":{"$ref":"#/components/schemas/NewOrUpdatedMetaDescriptionDTO"}},"editorsChoices":{"type":"array","items":{"type":"string"}},"connectedTo":{"type":"array","items":{"type":"string"}},"buildsOn":{"type":"array","items":{"type":"string"}},"leadsTo":{"type":"array","items":{"type":"string"}}}},"ValidationErrorBody":{"title":"ValidationErrorBody","description":"Information about an error","type":"object","required":["code","description","occurredAt","statusCode"],"properties":{"code":{"description":"Code stating the type of error","type":"string"},"description":{"description":"Description of the error","type":"string"},"occurredAt":{"description":"When the error occurred","type":"string"},"messages":{"description":"List of validation messages","type":"array","items":{"$ref":"#/components/schemas/ValidationMessage"}},"statusCode":{"description":"Numeric http status code","type":"integer","format":"int32"}}},"ValidationMessage":{"title":"ValidationMessage","description":"A message describing a validation error on a specific field","type":"object","required":["field","message"],"properties":{"field":{"description":"The field the error occured in","type":"string"},"message":{"description":"The validation message","type":"string"}}},"VisualElementDTO":{"title":"VisualElementDTO","type":"object","required":["type","url"],"properties":{"type":{"type":"string"},"url":{"type":"string"},"alt":{"type":"string"}}}},"securitySchemes":{"oauth2":{"type":"oauth2","flows":{"implicit":{"authorizationUrl":"https://ndla-test.eu.auth0.com/authorize","scopes":{"frontpage:admin":"frontpage:admin","frontpage:write":"frontpage:write"}}}}}}}